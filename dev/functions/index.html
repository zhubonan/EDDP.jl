<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions · EDDP.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="EDDP.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">EDDP.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Functions</a><ul class="internal"><li><a class="tocitem" href="#Feature-Generation"><span>Feature Generation</span></a></li><li><a class="tocitem" href="#Training"><span>Training</span></a></li><li><a class="tocitem" href="#Model-interfaces"><span>Model interfaces</span></a></li><li><a class="tocitem" href="#Using-potentials"><span>Using potentials</span></a></li><li><a class="tocitem" href="#Miscellaneous-tools"><span>Miscellaneous tools</span></a></li><li><a class="tocitem" href="#Automated-potentials-building"><span>Automated potentials building</span></a></li><li><a class="tocitem" href="#None-negative-least-square-routines"><span>None-negative least square routines</span></a></li></ul></li><li><a class="tocitem" href="../faq/">FAQ</a></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../python_tools/">Python Tools</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/zhubonan/EDDP.jl/blob/master/docs/src/functions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h1><p>Documentation for the functions included in the package.</p><h2 id="Feature-Generation"><a class="docs-heading-anchor" href="#Feature-Generation">Feature Generation</a><a id="Feature-Generation-1"></a><a class="docs-heading-anchor-permalink" href="#Feature-Generation" title="Permalink"></a></h2><p>Function and types for generating features </p><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellFeature" href="#EDDP.CellFeature"><code>EDDP.CellFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CellFeature</code></pre><p>Collection of Feature specifications and cell.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L619-L623">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellFeature-Tuple{Any}" href="#EDDP.CellFeature-Tuple{Any}"><code>EDDP.CellFeature</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">CellFeature(elements;kwargs...)</code></pre><p>Construct a <code>CellFeature</code> instance.</p><p><strong>Args</strong></p><ul><li><code>elements</code>: A vector of the elements to be included in the features.</li><li><code>p2</code>: A sequence of the two-body polynomial powers (<span>$p$</span>).</li><li><code>p3</code>: A sequence of the three-body polynomial powers (<span>$p$</span>).</li><li><code>q3</code>: A sequence of the three-body polynomial powers (<span>$q$</span>).</li><li><code>rcut2</code>: Cut off distance for two-body features.</li><li><code>rcut3</code>: Cut off distance for three-body features.</li><li><code>f2</code>: Distance function for two-body interactions.</li><li><code>f3</code>: Distance function for three-body interactions.</li><li><code>g2</code>: Gradient function for two-body interactions.</li><li><code>g3</code>: Gradient function for three-body interactions.</li><li><code>geometry_sequence</code>: Wether to covnert the <code>p2</code>, <code>p3</code>, <code>q3</code> as geometry sequence.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L665-L683">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ThreeBodyFeature" href="#EDDP.ThreeBodyFeature"><code>EDDP.ThreeBodyFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><p>(f::ThreeBodyFeature)(out::Vector, rij, rik, rjk, si, sj, sk)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ThreeBodyFeature" href="#EDDP.ThreeBodyFeature"><code>EDDP.ThreeBodyFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">(f::ThreeBodyFeature)(out::Vector, rij, rik, rjk)</code></pre><p>Accumulate an existing feature vector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L258-L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ThreeBodyFeature" href="#EDDP.ThreeBodyFeature"><code>EDDP.ThreeBodyFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ThreeBodyFeature{T, M} &lt;: AbstractNBodyFeature</code></pre><p>Type for constructing the feature vector of the three-body interactions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L210-L214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ThreeBodyFeature-Tuple{Any, Any, Any}" href="#EDDP.ThreeBodyFeature-Tuple{Any, Any, Any}"><code>EDDP.ThreeBodyFeature</code></a> — <span class="docstring-category">Method</span></header><section><div><p>(f::ThreeBodyFeature)(rij) = f(zeros(nfeatures(f)), rij, rik, rjk)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L297">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.TwoBodyFeature" href="#EDDP.TwoBodyFeature"><code>EDDP.TwoBodyFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">(f::TwoBodyFeature)(out::AbstractMatrix, rij, iat, istart=1)</code></pre><p>Accumulate an existing matrix of the feature vectors</p><p>Args:</p><ul><li>out: Output matrix</li><li>rji: distance between two atoms</li><li>iat: starting index of the vector to be updated</li><li>istart: starting index of the vector to be updated</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L146-L156">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.TwoBodyFeature" href="#EDDP.TwoBodyFeature"><code>EDDP.TwoBodyFeature</code></a> — <span class="docstring-category">Type</span></header><section><div><p>TwoBodyFeature{T, M} &lt;: AbstractNBodyFeature</p><p>Type for constructing the feature vector of the two-body interactions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L81-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:+-Tuple{CellFeature, CellFeature}" href="#Base.:+-Tuple{CellFeature, CellFeature}"><code>Base.:+</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">+(a::CellFeature, b::CellFeature)</code></pre><p>Combine two <code>CellFeature</code> objects together. The features are simply concatenated in this case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L635-L639">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.:==-Union{Tuple{T}, Tuple{T, T}} where T&lt;:Union{EDDP.AbstractNBodyFeature, CellFeature}" href="#Base.:==-Union{Tuple{T}, Tuple{T, T}} where T&lt;:Union{EDDP.AbstractNBodyFeature, CellFeature}"><code>Base.:==</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">==(A::T, B::T) where {T&lt;:Union{AbstractNBodyFeature, CellFeature}}</code></pre><p>Check equality between two <code>CellFeature</code> / <code>AbstractNBodyFeature</code> objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L647-L651">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.fast_pow-Tuple{Any, Int64}" href="#EDDP.fast_pow-Tuple{Any, Int64}"><code>EDDP.fast_pow</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Faster version of (^) by expanding more integer power into multiplications</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_names-Tuple" href="#EDDP.feature_names-Tuple"><code>EDDP.feature_names</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_names(features...)</code></pre><p>Return the name for the features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L748-L752">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_names-Tuple{CellFeature}" href="#EDDP.feature_names-Tuple{CellFeature}"><code>EDDP.feature_names</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_names(cf::CellFeature)</code></pre><p>Return the name for the features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L784-L788">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_size-Tuple{CellFeature}" href="#EDDP.feature_size-Tuple{CellFeature}"><code>EDDP.feature_size</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_size(cf::CellFeature)</code></pre><p>Return size of the feature vector for each body-order of a <code>CellFeature</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L877-L881">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_vector!-Tuple{Any, Tuple, Tuple, Cell}" href="#EDDP.feature_vector!-Tuple{Any, Tuple, Tuple, Cell}"><code>EDDP.feature_vector!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_vector!(fvecs, gvecs, features2, features3, cell;kwargs...)</code></pre><p>Args:</p><ul><li><code>nl</code>: If passed, using it as an existing <code>NeighbourList</code>.</li></ul><p>Compute the feature vector for a given set of two and three body interactions,  This is an optimised version for feature generation, but does not compute the gradients.</p><p>Returns the feature vector and the core repulsion energy if any.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L907-L918">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_vector-Tuple{CellFeature, Cell}" href="#EDDP.feature_vector-Tuple{CellFeature, Cell}"><code>EDDP.feature_vector</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_vector(cf::CellFeature, cell::Cell; nmax=500, skin=1.0)</code></pre><p>Return a matrix of vectors describing the environment of each atom.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L832-L836">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_vector2!-Tuple{Any, Tuple, Cell}" href="#EDDP.feature_vector2!-Tuple{Any, Tuple, Cell}"><code>EDDP.feature_vector2!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_vector(features::Vector{T}, cell::Cell) where T</code></pre><p>Compute the feature vector for a give set of two body interactions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L366-L370">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.feature_vector3!-Tuple{Any, Tuple, Cell}" href="#EDDP.feature_vector3!-Tuple{Any, Tuple, Cell}"><code>EDDP.feature_vector3!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">feature_vector(features::Vector{T}, cell::Cell) where T</code></pre><p>Compute the feature vector for each atom a give set of three body interactions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L426-L430">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.fr-Union{Tuple{T}, Tuple{T, Any}} where T" href="#EDDP.fr-Union{Tuple{T}, Tuple{T, Any}} where T"><code>EDDP.fr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fr(r, rcut)</code></pre><p>Equation 7 in Pickard 2022 describing interactions with well-behaved cut offs:</p><p class="math-container">\[f(r)= \begin{cases} 
    2(1 - r / r_{rc}) &amp; r \leq r_{rc} \\ 
    0 &amp; r &gt; r_{rc} 
    \end{cases}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L111-L123">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.genp-Tuple{Any, Any, Any}" href="#EDDP.genp-Tuple{Any, Any, Any}"><code>EDDP.genp</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Generate p/q as a geometry series</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L36-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.genp-Tuple{Union{StepRange, UnitRange}}" href="#EDDP.genp-Tuple{Union{StepRange, UnitRange}}"><code>EDDP.genp</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Generate p/q as geometry series</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L44-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.gfr-Union{Tuple{T}, Tuple{T, Any}} where T" href="#EDDP.gfr-Union{Tuple{T}, Tuple{T, Any}} where T"><code>EDDP.gfr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gfr(r, rcut)</code></pre><p>Gradient of the Equation 7 in Pickard 2022 describing interactions with well-behaved cut offs:</p><p class="math-container">\[g(r)= \begin{cases} 
    -2 / r_{rc} &amp; r \leq r_{rc} \\ 
    0 &amp; r &gt; r_{rc} 
    \end{cases}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L127-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.nbodyfeatures-Tuple{CellFeature, Any}" href="#EDDP.nbodyfeatures-Tuple{CellFeature, Any}"><code>EDDP.nbodyfeatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">nbodyfeatures(c::CellFeature, nbody)</code></pre><p>Return the number of N-body features</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L816-L820">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.nfeatures-Tuple{CellFeature}" href="#EDDP.nfeatures-Tuple{CellFeature}"><code>EDDP.nfeatures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">features(c::CellFeature)</code></pre><p>Return the total number of features elements in a <code>CellFeature</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L807-L811">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.one_body_vectors!-Tuple{AbstractMatrix, Cell, CellFeature}" href="#EDDP.one_body_vectors!-Tuple{AbstractMatrix, Cell, CellFeature}"><code>EDDP.one_body_vectors!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">one_body_vectors!(v, cell::Cell, cf::CellFeature)</code></pre><p>Construct one-body features for the structure. The one-body feature is essentially an one-hot encoding of the specie labels </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L859-L864">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.one_body_vectors-Tuple{Cell, CellFeature}" href="#EDDP.one_body_vectors-Tuple{Cell, CellFeature}"><code>EDDP.one_body_vectors</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">one_body_vectors(cell::Cell, cf::CellFeature)</code></pre><p>Construct one-body features for the structure. The one-body feature is essentially an one-hot encoding of the specie labels </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L848-L853">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.permequal-NTuple{4, Any}" href="#EDDP.permequal-NTuple{4, Any}"><code>EDDP.permequal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">permequal(A, i, j, k)</code></pre><p>Check equivalence considering all permutations with the first element matched.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L69-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.permequal-Tuple{Any, Any, Any}" href="#EDDP.permequal-Tuple{Any, Any, Any}"><code>EDDP.permequal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">permequal(A, i, j)</code></pre><p>Check equivalence considering all permutations with the first element matched. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L59-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.suggest_rcut-Tuple" href="#EDDP.suggest_rcut-Tuple"><code>EDDP.suggest_rcut</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">suggest_rcut(features...; offset=1.0)</code></pre><p>Get a suggested rcut for a collection of features.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L897-L901">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.suggest_rcut-Tuple{CellFeature}" href="#EDDP.suggest_rcut-Tuple{CellFeature}"><code>EDDP.suggest_rcut</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">suggest_rcut(cf::CellFeature; offset=1.0)</code></pre><p>Get a suggested cut off radius for NN list for a CellFeature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L886-L890">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.three_body_feature_from_mapping" href="#EDDP.three_body_feature_from_mapping"><code>EDDP.three_body_feature_from_mapping</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">three_body_feature_from_mapping(cell::Cell, p_mapping, q_mapping, rcut, func=fr)</code></pre><p>Construct a vector containing the TwoBodyFeatures</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L577-L581">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.two_body_feature_from_mapping" href="#EDDP.two_body_feature_from_mapping"><code>EDDP.two_body_feature_from_mapping</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">two_body_feature_from_mapping(cell::Cell, p_mapping, rcut, func=fr)</code></pre><p>Construct a vector containing the TwoBodyFeatures</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L552-L556">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.withgradient!-Tuple{Any, Any, EDDP.TwoBodyFeature, Any, Any, Any}" href="#EDDP.withgradient!-Tuple{Any, Any, EDDP.TwoBodyFeature, Any, Any, Any}"><code>EDDP.withgradient!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">withgradient!(e::Matrix, g::Vector, f::TwoBodyFeature, rij, iat, istart)</code></pre><p>Calculate d(f(r)^p) / dr for each feature as well as the feature vector vector.</p><p>Args:</p><ul><li>e: The matrix storing the feature vectors of shape (nfe, nat)</li><li>g: The matrix storing the gradient feature vectors of shape (nfe,), <strong>for this particular pair of i and j</strong>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L167-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.withgradient!-Tuple{Matrix, Matrix, EDDP.ThreeBodyFeature, Any, Any, Any, Any, Any}" href="#EDDP.withgradient!-Tuple{Matrix, Matrix, EDDP.ThreeBodyFeature, Any, Any, Any, Any, Any}"><code>EDDP.withgradient!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Calculate df / drij, df /drik, df/drjk for each element of a ThreeBodyFeature</p><p>Args:</p><ul><li>e: The matrix storing the feature vectors of shape (nfe, nat)</li><li>g: The matrix storing the gradient feature vectors of shape (3, nfe), against rij, rik and rjk <strong>for this particular combination of i, j, k</strong>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/feature.jl#L311-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ForceBuffer" href="#EDDP.ForceBuffer"><code>EDDP.ForceBuffer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ForceBuffer{T}</code></pre><p>Buffer for storing forces and stress and support their calculations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ForceBuffer-Union{Tuple{Matrix{T}}, Tuple{T}} where T" href="#EDDP.ForceBuffer-Union{Tuple{Matrix{T}}, Tuple{T}} where T"><code>EDDP.ForceBuffer</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Initialise a buffer for computing forces</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L38-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._force_update!-Tuple{EDDP.ForceBuffer, Any, Any}" href="#EDDP._force_update!-Tuple{EDDP.ForceBuffer, Any, Any}"><code>EDDP._force_update!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_force_update!(buffer::Array{T, 2}, gv, g)</code></pre><p>Propagate chain rule to obtain the forces</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L896-L900">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._stress_update!-Tuple{EDDP.ForceBuffer, Any}" href="#EDDP._stress_update!-Tuple{EDDP.ForceBuffer, Any}"><code>EDDP._stress_update!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_stress_update!(buffer::Array{T, 2}, sv, s) where {T}</code></pre><p>Propagate chain rule to obtain the stress</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L933-L937">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.compute_fv!-Tuple{Any, Any, Any, Cell}" href="#EDDP.compute_fv!-Tuple{Any, Any, Any, Cell}"><code>EDDP.compute_fv!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_fv!(fvecs, features2, features3, cell;nl,</code></pre><p>Compute feature vectors only. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L442-L446">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.compute_fv_gv!-Tuple{EDDP.ForceBuffer, Any, Any, Cell}" href="#EDDP.compute_fv_gv!-Tuple{EDDP.ForceBuffer, Any, Any, Cell}"><code>EDDP.compute_fv_gv!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_fv_gv!(fvecs, gvecs, features2, features3, cell::Cell;nl=NeighbourList(cell, features[1].rcut))</code></pre><p>Compute the feature vector for a given set of two and three body interactions, compute gradients as well. Optimised version with reduced computational cost....</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/gradient.jl#L544-L549">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.BodyEmbedding" href="#EDDP.BodyEmbedding"><code>EDDP.BodyEmbedding</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Embedding for a specific body order</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L15-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.BodyEmbedding-Tuple{AbstractMatrix}" href="#EDDP.BodyEmbedding-Tuple{AbstractMatrix}"><code>EDDP.BodyEmbedding</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply the embedding for an matrix input, the columns are made of vectors  to be embedded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L74-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.BodyEmbedding-Tuple{AbstractVector}" href="#EDDP.BodyEmbedding-Tuple{AbstractVector}"><code>EDDP.BodyEmbedding</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply the embedding</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L63-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.BodyEmbeddingGradient" href="#EDDP.BodyEmbeddingGradient"><code>EDDP.BodyEmbeddingGradient</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Compute the gradient of the embedding layer       (W) x -&gt; Embedding -&gt; out</p><p>The embeding layer does is </p><p class="math-container">\[out = x W\]</p><p>Operation is assumed to be in the &quot;batch&quot; mode, taking inputs of multiple columns</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L214-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellEmbedding" href="#EDDP.CellEmbedding"><code>EDDP.CellEmbedding</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Embedding for a full CellFeature</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L122-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellEmbedding-Tuple{AbstractMatrix}" href="#EDDP.CellEmbedding-Tuple{AbstractMatrix}"><code>EDDP.CellEmbedding</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply CellEmbedding to a full feature vector</p><p>This is written in such way to support autograd...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L193-L197">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellEmbedding-Tuple{AbstractVector}" href="#EDDP.CellEmbedding-Tuple{AbstractVector}"><code>EDDP.CellEmbedding</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply CellEmbedding to a full feature vector</p><p>This is written in such way to support autograd...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CellEmbeddingGradient" href="#EDDP.CellEmbeddingGradient"><code>EDDP.CellEmbeddingGradient</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Container to operate forward and backward passes</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L316-L318">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._apply_embedding-Tuple{AbstractMatrix, AbstractMatrix}" href="#EDDP._apply_embedding-Tuple{AbstractMatrix, AbstractMatrix}"><code>EDDP._apply_embedding</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply weighted averages to each column of a matrix, the weights are stored in a matrix as well.</p><p class="math-container">\[O = F W\]</p><p>This is simply right multiply the weight matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L108-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._apply_embedding_batch!-NTuple{4, Any}" href="#EDDP._apply_embedding_batch!-NTuple{4, Any}"><code>EDDP._apply_embedding_batch!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply the embedding for an matrix input, the columns are made of vectors  to be embedded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L95-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._apply_embedding_batch-Tuple{Any, Any}" href="#EDDP._apply_embedding_batch-Tuple{Any, Any}"><code>EDDP._apply_embedding_batch</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply the embedding for an matrix input, the columns are made of vectors  to be embedded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L82-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.backprop!-Tuple{EDDP.BodyEmbeddingGradient, EDDP.BodyEmbedding}" href="#EDDP.backprop!-Tuple{EDDP.BodyEmbeddingGradient, EDDP.BodyEmbedding}"><code>EDDP.backprop!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Perform backpropagation - this requires the forward pass to be run an upstream gradients computed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L268-L270">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.forward!-Tuple{EDDP.BodyEmbeddingGradient, EDDP.BodyEmbedding, Any, Any, Any, Any}" href="#EDDP.forward!-Tuple{EDDP.BodyEmbeddingGradient, EDDP.BodyEmbedding, Any, Any, Any, Any}"><code>EDDP.forward!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Forward pass</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L291-L293">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.forward!-Tuple{EDDP.CellEmbeddingGradient, EDDP.CellEmbedding, Any, Any, Any, Any}" href="#EDDP.forward!-Tuple{EDDP.CellEmbeddingGradient, EDDP.CellEmbedding, Any, Any, Any, Any}"><code>EDDP.forward!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Forward pass</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L352-L354">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.num_each_feat_elements-Tuple{EDDP.BodyEmbedding}" href="#EDDP.num_each_feat_elements-Tuple{EDDP.BodyEmbedding}"><code>EDDP.num_each_feat_elements</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of elements for each feature</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L54-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.num_embed-Tuple{EDDP.BodyEmbedding}" href="#EDDP.num_embed-Tuple{EDDP.BodyEmbedding}"><code>EDDP.num_embed</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of embedded vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L44-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.num_feat-Tuple{EDDP.BodyEmbedding}" href="#EDDP.num_feat-Tuple{EDDP.BodyEmbedding}"><code>EDDP.num_feat</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Number of feature sets to be compressed</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding.jl#L49-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ChainRulesCore.rrule-Tuple{typeof(EDDP._apply_embedding_batch), AbstractMatrix, AbstractMatrix}" href="#ChainRulesCore.rrule-Tuple{typeof(EDDP._apply_embedding_batch), AbstractMatrix, AbstractMatrix}"><code>ChainRulesCore.rrule</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Custom rule for the <em>apply</em>embedding_batch function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding_rules.jl#L3-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ChainRulesCore.rrule-Tuple{typeof(EDDP._apply_embedding_cell), Any, Any, Any, Any, Any, AbstractMatrix}" href="#ChainRulesCore.rrule-Tuple{typeof(EDDP._apply_embedding_cell), Any, Any, Any, Any, Any, AbstractMatrix}"><code>ChainRulesCore.rrule</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Custom rule for the <em>apply</em>embedding_cell function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/embedding_rules.jl#L38-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.CoreReplusion" href="#EDDP.CoreReplusion"><code>EDDP.CoreReplusion</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CoreReplusion(rcut)</code></pre><p>Construct a core repulsion with a specific cut off radius.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/repulsive_core.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.core_repulsion-Tuple{Any, Any}" href="#EDDP.core_repulsion-Tuple{Any, Any}"><code>EDDP.core_repulsion</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Core repulsion energy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/repulsive_core.jl#L2-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.gcore_repulsion-Tuple{Any, Any}" href="#EDDP.gcore_repulsion-Tuple{Any, Any}"><code>EDDP.gcore_repulsion</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Core repulsion gradient</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/repulsive_core.jl#L12-L14">source</a></section></article><h2 id="Training"><a class="docs-heading-anchor" href="#Training">Training</a><a id="Training-1"></a><a class="docs-heading-anchor-permalink" href="#Training" title="Permalink"></a></h2><p>Routines for training models feature vectors </p><article class="docstring"><header><a class="docstring-binding" id="EDDP.FeatureContainer" href="#EDDP.FeatureContainer"><code>EDDP.FeatureContainer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FeatureContainer{T,N}</code></pre><p>Container for holding features from structures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L135-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.FeatureContainer-Tuple{StructureContainer, CellFeature}" href="#EDDP.FeatureContainer-Tuple{StructureContainer, CellFeature}"><code>EDDP.FeatureContainer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FeatureContainer(sc::StructureContainer, featurespec; nmax=500, kwargs...)</code></pre><p>Get a feature container.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L230-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.StructureContainer" href="#EDDP.StructureContainer"><code>EDDP.StructureContainer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StructureContainer{T}</code></pre><p>Loader for storing structure data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.StructureContainer-Tuple{Vector}" href="#EDDP.StructureContainer-Tuple{Vector}"><code>EDDP.StructureContainer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">StructureContainer(paths::Vector)</code></pre><p>Args:</p><pre><code class="nohighlight hljs">- `energy_threshold`: structures with per-atom energy higher than this are excluded. 
  Relative to the median energy.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L39-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.split-Tuple{Union{FeatureContainer, StructureContainer}, Vararg}" href="#Base.split-Tuple{Union{FeatureContainer, StructureContainer}, Vararg}"><code>Base.split</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">split(c::Container, n1, n2, ...;shuffle=true)</code></pre><p>Split the container into multiple parts, each with N number of structures. By default, the output container will have their feature vectors standardized.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L356-L361">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._idx_group_by_composition-Tuple{Any}" href="#EDDP._idx_group_by_composition-Tuple{Any}"><code>EDDP._idx_group_by_composition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_idx_group_by_composition(structures)</code></pre><p>Return the index of structures of each unique composition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L75-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._select_per_atom_threshold-Tuple{Any, Any}" href="#EDDP._select_per_atom_threshold-Tuple{Any, Any}"><code>EDDP._select_per_atom_threshold</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return index selected based on per-formula atomic energy</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L91-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._split_vector-Tuple{Any, Vararg{Int64}}" href="#EDDP._split_vector-Tuple{Any, Vararg{Int64}}"><code>EDDP._split_vector</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Split a vector by integer numbres</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L116-L118">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_fc-Tuple{Any}" href="#EDDP.load_fc-Tuple{Any}"><code>EDDP.load_fc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_fc(fname)</code></pre><p>Load FeatureContainer from a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L201-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.reconstruct_x!-Tuple{Any, Any}" href="#EDDP.reconstruct_x!-Tuple{Any, Any}"><code>EDDP.reconstruct_x!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Recover training X inputs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L498-L500">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.save_fc-Tuple{Any, Any}" href="#EDDP.save_fc-Tuple{Any, Any}"><code>EDDP.save_fc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_fc(fc, fname)</code></pre><p>Save FeatureContainer into a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L182-L186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.standardize!-Tuple{Any, Any, Vararg{Any}}" href="#EDDP.standardize!-Tuple{Any, Any, Vararg{Any}}"><code>EDDP.standardize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">standardize!(fc_train, fcs...)</code></pre><p>Standardise multiple feature containers. Only the first argument is used for fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L435-L439">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.standardize!-Tuple{FeatureContainer}" href="#EDDP.standardize!-Tuple{FeatureContainer}"><code>EDDP.standardize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">standardize!(fc::FeatureContainer)</code></pre><p>Standardize the data in the <code>FeatureContainer</code>. The feature vectors are modified. Note that only the input features are fitted and scaled, the outputs are only fitted but the standardisation is not applied.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L383-L389">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.standardize-Tuple{Any, Vararg{Any}}" href="#EDDP.standardize-Tuple{Any, Vararg{Any}}"><code>EDDP.standardize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">standardize(fc_train, fcs...)</code></pre><p>Standardise multiple feature containers. Only the first argument is used for fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L449-L453">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.train_test_split-Tuple{Union{FeatureContainer, StructureContainer}}" href="#EDDP.train_test_split-Tuple{Union{FeatureContainer, StructureContainer}}"><code>EDDP.train_test_split</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tain_test_split(v::FeatureContainer; ratio_test=0.1, shuffle=true)</code></pre><p>Split the training </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L337-L341">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.transform_x!-Tuple{Any, Any}" href="#EDDP.transform_x!-Tuple{Any, Any}"><code>EDDP.transform_x!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply transformation for training X inputs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/preprocessing.jl#L469-L471">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.TrainingResultsSummary-Tuple{Any, Any, Any}" href="#EDDP.TrainingResultsSummary-Tuple{Any, Any, Any}"><code>EDDP.TrainingResultsSummary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">TrainingResultsSummary(train, test ,valid)</code></pre><p>Construct a TrainingResultsSummary object from TrainingResults for the train, test and  validation sets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L596-L601">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Union{Tuple{T}, Tuple{TrainingResults, Union{UnitRange, Vector{T}}}} where T&lt;:Int64" href="#Base.getindex-Union{Tuple{T}, Tuple{TrainingResults, Union{UnitRange, Vector{T}}}} where T&lt;:Int64"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Base.getindex(v::TrainingResults, idx::Union{UnitRange, Vector{T}}) where {T&lt;: Int}</code></pre><p>Allow slicing to work on TrainingResults.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L459-L463">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ae_per_atom-Tuple{TrainingResults}" href="#EDDP.ae_per_atom-Tuple{TrainingResults}"><code>EDDP.ae_per_atom</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Absolute per-atom error</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L484">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.boltzmann" href="#EDDP.boltzmann"><code>EDDP.boltzmann</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">boltzmann(x, kT, x0=0.)</code></pre><p>Computes the boltzmann distribution: <span>$e^{\frac{-(x - x0)}{kT}}$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L48-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.create_ensemble-Tuple{Any, AbstractVector, AbstractVector}" href="#EDDP.create_ensemble-Tuple{Any, AbstractVector, AbstractVector}"><code>EDDP.create_ensemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_ensemble(models::AbstractVector, x::AbstractVector, y::AbstractVector;</code></pre><p>Create an EnsembleNNInterface from a vector of interfaces and x, y data for fitting.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L78-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.create_ensemble-Tuple{Any, FeatureContainer, Vararg{Any}}" href="#EDDP.create_ensemble-Tuple{Any, FeatureContainer, Vararg{Any}}"><code>EDDP.create_ensemble</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_ensemble(all_models, fc_train::FeatureContainer, args...)</code></pre><p>Create ensemble model from training data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L416-L420">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ensemble_std-Union{Tuple{TrainingResults{M, T}}, Tuple{T}, Tuple{M}} where {M, T&lt;:EDDP.EnsembleNNInterface}" href="#EDDP.ensemble_std-Union{Tuple{TrainingResults{M, T}}, Tuple{T}, Tuple{M}} where {M, T&lt;:EDDP.EnsembleNNInterface}"><code>EDDP.ensemble_std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ensemble_std(tr::TrainingResults{M, T};per_atom=true) where {M, T&lt;:EnsembleNNInterface}</code></pre><p>Return the standard deviation from the ensemble for each data point. Defaults to atomic energy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L566-L570">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.generate_chain-Tuple{Any, Any}" href="#EDDP.generate_chain-Tuple{Any, Any}"><code>EDDP.generate_chain</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Genreate a <code>Chain</code> based on a vector specifying the number of hidden nodes in each layer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L27-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.generate_f_g_optim-Tuple{Any, Any, Any}" href="#EDDP.generate_f_g_optim-Tuple{Any, Any, Any}"><code>EDDP.generate_f_g_optim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_f_g_optim_batch(model, train, test)</code></pre><p>Generate f, g!, view of the parameters and the callback function for NN training using Optim.</p><p>This is for &#39;batch&#39; training where all of the data are included.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L732-L738">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.generate_f_g_optim_alt-Tuple{Any, Any, Any}" href="#EDDP.generate_f_g_optim_alt-Tuple{Any, Any, Any}"><code>EDDP.generate_f_g_optim_alt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">generate_f_g_optim(model, train, test)</code></pre><p>Generate f, g!, view of the parameters and the callback function for NN training using Optim.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L644-L648">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.mae_per_atom-Tuple{EDDP.AbstractNNInterface, Any, Any, Any}" href="#EDDP.mae_per_atom-Tuple{EDDP.AbstractNNInterface, Any, Any, Any}"><code>EDDP.mae_per_atom</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mae_per_atom(itf::AbstractNNInterface, x, y, nat)</code></pre><p>Return per-atom-mean absolute error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L227-L231">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.nnls_weights-Tuple{Any, Any, Any}" href="#EDDP.nnls_weights-Tuple{Any, Any, Any}"><code>EDDP.nnls_weights</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">nnls_weights(models, x, y)</code></pre><p>Compute the weights for an ensemble of models using NNLS. Args:     - <code>models: a</code>Tuple<code>/</code>Vector<code>of models.     -</code>x<code>: a</code>Vector<code>containing the features of each structure.     -</code>y<code>: a</code>Vector` containing the total energy of each structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L58-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.r2score_each_comp-Tuple{TrainingResults}" href="#EDDP.r2score_each_comp-Tuple{TrainingResults}"><code>EDDP.r2score_each_comp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">r2score_each_comp(tr::TrainingResults)</code></pre><p>Compute the R2 score for each composition separately as it does not make sense to compute  using the full dataset containing different compositions.</p><p>See also: https://scikit-learn.org/stable/modules/model_evaluation.html#r2-score</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L612-L619">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.rmse_per_atom-Tuple{EDDP.AbstractNNInterface, Any, Any, Any}" href="#EDDP.rmse_per_atom-Tuple{EDDP.AbstractNNInterface, Any, Any, Any}"><code>EDDP.rmse_per_atom</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rmse_per_atom(itf::AbstractNNInterface, x, y, nat)</code></pre><p>Return per-atom root-mean square error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L218-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.spearman-Tuple{TrainingResults}" href="#EDDP.spearman-Tuple{TrainingResults}"><code>EDDP.spearman</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spearman(tr::TrainingResults)</code></pre><p>Compute the average spearman score for each composition. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L634-L638">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.spearman_each_comp-Tuple{TrainingResults}" href="#EDDP.spearman_each_comp-Tuple{TrainingResults}"><code>EDDP.spearman_each_comp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spearman_each_comp(tr::TrainingResults)</code></pre><p>Return unique reduced formula and their spearman scores. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L528-L532">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.train_lm!-Tuple{EDDP.AbstractNNInterface, Any, Any}" href="#EDDP.train_lm!-Tuple{EDDP.AbstractNNInterface, Any, Any}"><code>EDDP.train_lm!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Perform training for the given TrainingConfig</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L105-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.worker_train_one-NTuple{5, Any}" href="#EDDP.worker_train_one-NTuple{5, Any}"><code>EDDP.worker_train_one</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">worker_train_one(model, x, y, jobs_channel, results_channel;kwargs...)</code></pre><p>Train one model and put the results into a channel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L427-L431">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.@_itf_per_atom_wrap-Tuple{Any}" href="#EDDP.@_itf_per_atom_wrap-Tuple{Any}"><code>EDDP.@_itf_per_atom_wrap</code></a> — <span class="docstring-category">Macro</span></header><section><div><p>Allow func(itf, fc) signature to be used....</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/training.jl#L240-L242">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ATWA!-Tuple{Any, Any, Any}" href="#EDDP.ATWA!-Tuple{Any, Any, Any}"><code>EDDP.ATWA!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Implement the output of</p><p>$ A^T W A $</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/lmsolve.jl#L390-L394">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.ATWA_DIAG!-Tuple{Any, Any, Any}" href="#EDDP.ATWA_DIAG!-Tuple{Any, Any, Any}"><code>EDDP.ATWA_DIAG!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Compute the output of </p><p>$ diag(A^T W A) $</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/lmsolve.jl#L373-L377">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.earlystopcheck-Tuple{Any, Any}" href="#EDDP.earlystopcheck-Tuple{Any, Any}"><code>EDDP.earlystopcheck</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Signal stop if the min is more than n cycles away</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/lmsolve.jl#L370">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._chunk_ranges-Tuple{Any}" href="#EDDP._chunk_ranges-Tuple{Any}"><code>EDDP._chunk_ranges</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_chunk_ranges(ndata; ngps=1)</code></pre><p>Divide a range into multiple chunks such that each thread receives up to <code>ngps</code> chunks in total.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L139-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._collect_gradient!-Tuple{Any, EDDP.CellEmbeddingGradient, Any}" href="#EDDP._collect_gradient!-Tuple{Any, EDDP.CellEmbeddingGradient, Any}"><code>EDDP._collect_gradient!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_collect_gradient!(gvec, g::CellEmbeddingGradient, i)</code></pre><p>Collect gradient from a CellEmbeddingGradient layer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L233-L237">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._collect_gradient!-Tuple{Any, EDDP.DenseGradient, Any}" href="#EDDP._collect_gradient!-Tuple{Any, EDDP.DenseGradient, Any}"><code>EDDP._collect_gradient!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_collect_gradient!(gvec, g::DenseGradient, i)</code></pre><p>Collect gradient from a DenseGradient layer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.atomic_rmse-Tuple{Any, Any, Any}" href="#EDDP.atomic_rmse-Tuple{Any, Any, Any}"><code>EDDP.atomic_rmse</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">atomic_rmse(f, x, y, yt)</code></pre><p>Compute per atom based RMSE</p><p>Args:</p><ul><li>f: prediction function</li><li>x: input data </li><li>y: reference data </li><li>yt: Normalisation transformation originally applied to obtain y.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L244-L254">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.collect_gradients!-Tuple{AbstractVector, EDDP.ChainGradients}" href="#EDDP.collect_gradients!-Tuple{AbstractVector, EDDP.ChainGradients}"><code>EDDP.collect_gradients!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">collect_gradients!(gvec::AbstractVector, gbuff::ChainGradients)</code></pre><p>Collect the gradients after back-propagration into a vector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L201-L205">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.compute_jacobian_backprop!-Tuple{Any, Any, Any, AbstractVector}" href="#EDDP.compute_jacobian_backprop!-Tuple{Any, Any, Any, AbstractVector}"><code>EDDP.compute_jacobian_backprop!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">compute_jacobian_backprop!(jacmat, gbuffs, model, data::AbstractVector)</code></pre><p>Compute jacobian of the NN weights/bias using back-propagation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.default_rng_value-Tuple{}" href="#EDDP.default_rng_value-Tuple{}"><code>EDDP.default_rng_value</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">default_rng_value()</code></pre><p>Create an instance of the default RNG depending on Julia&#39;s version.</p><ul><li>Julia version is &lt; 1.7: <code>Random.GLOBAL_RNG</code></li><li>Julia version is &gt;= 1.7: <code>Random.default_rng()</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L264-L269">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.setup_fg_backprop-Tuple{Any, AbstractVector, Any}" href="#EDDP.setup_fg_backprop-Tuple{Any, AbstractVector, Any}"><code>EDDP.setup_fg_backprop</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">setup_fg_backprop(model, data::AbstractVector, y)</code></pre><p>Get a function for computing both the objective function and the  jacobian matrix for the <strong>mean atomic energy</strong>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L11-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.setup_fj" href="#EDDP.setup_fj"><code>EDDP.setup_fj</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">setup_fj(model::AbstractNNInterface, data::AbstractVector, y)</code></pre><p>Setup the function returning the residual and the jacobian matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nntools.jl#L72-L76">source</a></section></article><h2 id="Model-interfaces"><a class="docs-heading-anchor" href="#Model-interfaces">Model interfaces</a><a id="Model-interfaces-1"></a><a class="docs-heading-anchor-permalink" href="#Model-interfaces" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="EDDP.backward!" href="#EDDP.backward!"><code>EDDP.backward!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Do the backward step</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.flux_mlp_model-Tuple{CellFeature, Vararg{Any}}" href="#EDDP.flux_mlp_model-Tuple{CellFeature, Vararg{Any}}"><code>EDDP.flux_mlp_model</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Obtain an baseline MLP model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.forward!" href="#EDDP.forward!"><code>EDDP.forward!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Do the forward step</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.gradinp!" href="#EDDP.gradinp!"><code>EDDP.gradinp!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return the gradient of the total energy against the inputs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.gradparam!" href="#EDDP.gradparam!"><code>EDDP.gradparam!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return a vector of the gradients of the total energy against the parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{AbstractString, Type{&lt;:EDDP.AbstractNNInterface}}" href="#EDDP.load_from_jld2-Tuple{AbstractString, Type{&lt;:EDDP.AbstractNNInterface}}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(str::AbstractString, t::Type{&lt;:AbstractNNInterface})</code></pre><p>Load saved interface from JLD2 file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{AbstractString}" href="#EDDP.load_from_jld2-Tuple{AbstractString}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(str::AbstractString)</code></pre><p>Load saved interface from JLD2 file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L141-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}}" href="#EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(f)</code></pre><p>Load from JLD2 file/JLD2 group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.nparams" href="#EDDP.nparams"><code>EDDP.nparams</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return the number of parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.paramvector" href="#EDDP.paramvector"><code>EDDP.paramvector</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return a vector containing the parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.paramvector!" href="#EDDP.paramvector!"><code>EDDP.paramvector!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Return a vector containing the parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.save_as_jld2-Tuple{AbstractString, EDDP.AbstractNNInterface}" href="#EDDP.save_as_jld2-Tuple{AbstractString, EDDP.AbstractNNInterface}"><code>EDDP.save_as_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_as_jld2(str::AbstractString, obj::AbstractNNInterface)</code></pre><p>Save an trained interface object as JLD2.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L35-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.setparamvector!" href="#EDDP.setparamvector!"><code>EDDP.setparamvector!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Set the parameters with a vector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.transformed_inp-Tuple{Any, Any}" href="#EDDP.transformed_inp-Tuple{Any, Any}"><code>EDDP.transformed_inp</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Obtain an transformed the input array</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/interface.jl#L105-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{EDDP.LinearInterface}}" href="#EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{EDDP.LinearInterface}}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(f, obj::LinearInterface)</code></pre><p>Load from JLD2 file/JLD2 group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/linear.jl#L62-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.save_as_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, EDDP.LinearInterface}" href="#EDDP.save_as_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, EDDP.LinearInterface}"><code>EDDP.save_as_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_as_jld2(f, obj::LinearInterface)</code></pre><p>Save the interface into an opened JLD2 file/JLD2 group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/linear.jl#L52-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.FluxInterface" href="#EDDP.FluxInterface"><code>EDDP.FluxInterface</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Standard Flux interface wrapping a <code>model</code> object.</p><p>This interface uses Zygote for AD.  Performance is not ideal for training using the LM method due to the accumulated overheads of calling the <code>gradient</code> function. It should be OK to use for inference (but still inferior compared to <code>ManualFluxBackPropInterface</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/flux.jl#L6-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.backward!-Tuple{EDDP.FluxInterface, Vararg{Any}}" href="#EDDP.backward!-Tuple{EDDP.FluxInterface, Vararg{Any}}"><code>EDDP.backward!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run the backward step - this creates the pull back functions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/flux.jl#L112-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.DenseGradient" href="#EDDP.DenseGradient"><code>EDDP.DenseGradient</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Buffer for storing gradients of a dense network</p><pre><code class="language-julia hljs">y = σ.(W * x .+ b)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L16-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.DenseGradient-Tuple{Flux.Dense, Any, Any, Any}" href="#EDDP.DenseGradient-Tuple{Flux.Dense, Any, Any, Any}"><code>EDDP.DenseGradient</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DenseGradient(dense::Dense, gσ, n)</code></pre><p>Buffer for storing gradients of a dense network</p><pre><code class="language-julia hljs">y = σ.(W * x .+ b)</code></pre><p>Args:</p><ul><li><code>gσ</code>: the function that computes the local gradient of the activation function.   It must take two arguments <code>x</code> and <code>fx</code>, where <code>fx = σ(x)</code>.</li><li><code>n</code>: size of the batch.</li><li><code>out</code>: Matrix of the output after this layer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L45-L59">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._get_or_create_chaingradients-Tuple{Any, Any}" href="#EDDP._get_or_create_chaingradients-Tuple{Any, Any}"><code>EDDP._get_or_create_chaingradients</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Select the ChainGradients with the right size</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L299-L301">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.backprop!-Tuple{EDDP.DenseGradient, Flux.Dense}" href="#EDDP.backprop!-Tuple{EDDP.DenseGradient, Flux.Dense}"><code>EDDP.backprop!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">backprop!(dg::DenseGradient, d::Dense;weight_and_bias=true)</code></pre><p>Compute the gradients of a dense network based on back-propagation.</p><p>Args:</p><ul><li><code>weight_and_bias</code>: Update the gradients for weight and bias. Defaults to true.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L83-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.backward!-Tuple{EDDP.ChainGradients, Flux.Chain}" href="#EDDP.backward!-Tuple{EDDP.ChainGradients, Flux.Chain}"><code>EDDP.backward!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">backward!(chaing::ChainGradients, chain::Chain;gu=one(eltype(chain.layers[1].weight)))</code></pre><p>Back-propagate the gradients after a forward pass. Args:</p><ul><li><code>gu</code>: is the upstream gradient for the loss of the entire chain. The default is equivalent to: <code>loss = sum(chain(x))</code>, which is a matrix of <code>1</code> in the same shape of the output matrix.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L203-L210">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.forward!-Tuple{EDDP.ChainGradients, Flux.Chain, Any}" href="#EDDP.forward!-Tuple{EDDP.ChainGradients, Flux.Chain, Any}"><code>EDDP.forward!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">forward!(chaing::ChainGradients, chain::Chain, x;copy=false)</code></pre><p>Do a forward pass compute the intermediate quantities for each layer</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.forward!-Tuple{EDDP.DenseGradient, Flux.Dense, EDDP.DenseGradient, Any, Any, Any}" href="#EDDP.forward!-Tuple{EDDP.DenseGradient, Flux.Dense, EDDP.DenseGradient, Any, Any, Any}"><code>EDDP.forward!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Internal per-layer forward pass</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L180-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.gradinp!-Tuple{AbstractVecOrMat, EDDP.ManualFluxBackPropInterface}" href="#EDDP.gradinp!-Tuple{AbstractVecOrMat, EDDP.ManualFluxBackPropInterface}"><code>EDDP.gradinp!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the gradient of the input matrix <span>$X$</span> against the sum of the output <span>$sum(G(X))$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L371-L373">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{EDDP.ManualFluxBackPropInterface}}" href="#EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{EDDP.ManualFluxBackPropInterface}}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(f, obj::ManualFluxBackPropInterface)</code></pre><p>Load from JLD2 file/JLD2 group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L436-L440">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.paramvector!-Tuple{AbstractVector, Flux.Chain}" href="#EDDP.paramvector!-Tuple{AbstractVector, Flux.Chain}"><code>EDDP.paramvector!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">paramvector!(vec, model)</code></pre><p>Return a vector containing all parameters of a model concatenated as a vector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L226-L230">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.save_as_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, EDDP.ManualFluxBackPropInterface}" href="#EDDP.save_as_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, EDDP.ManualFluxBackPropInterface}"><code>EDDP.save_as_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_as_jld2(f, obj::ManualFluxBackPropInterface)</code></pre><p>Save the interface into an opened JLD2 file/JLD2 group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L421-L425">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.update_param!-Tuple{Any, Any}" href="#EDDP.update_param!-Tuple{Any, Any}"><code>EDDP.update_param!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_param!(model, param)</code></pre><p>Update the parameters of a model from a given vector</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/manual_backprop.jl#L253-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.EnsembleNNInterface" href="#EDDP.EnsembleNNInterface"><code>EDDP.EnsembleNNInterface</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EnsembleNNInterface{T&lt;:Tuple}</code></pre><p>Ensemble of many models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/ensemble.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{&lt;:EDDP.EnsembleNNInterface}}" href="#EDDP.load_from_jld2-Tuple{Union{JLD2.Group, JLD2.JLDFile}, Type{&lt;:EDDP.EnsembleNNInterface}}"><code>EDDP.load_from_jld2</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_from_jld2(f::Union{&lt;:JLD2.Group, &lt;:JLD2.JLDFile}, ::Type{&lt;:EnsembleNNInterface})</code></pre><p>Load from JLD2 file or JLD2 group. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nn/ensemble.jl#L108-L113">source</a></section></article><h2 id="Using-potentials"><a class="docs-heading-anchor" href="#Using-potentials">Using potentials</a><a id="Using-potentials-1"></a><a class="docs-heading-anchor-permalink" href="#Using-potentials" title="Permalink"></a></h2><p>Routines for using the trained potentials for energy/forces/stress calculations.</p><article class="docstring"><header><a class="docstring-binding" id="EDDP.VariableCellCalc" href="#EDDP.VariableCellCalc"><code>EDDP.VariableCellCalc</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Filter for including lattice vectors in the optimisation</p><p>Reference:   E. B. Tadmor, G. S. Smith, N. Bernstein, and E. Kaxiras,             Phys. Rev. B 59, 235 (1999)</p><p>Base on ase.constraints.UnitCellFilter</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L404-L414">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CellBase.get_positions-Tuple{VariableCellCalc}" href="#CellBase.get_positions-Tuple{VariableCellCalc}"><code>CellBase.get_positions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_positions(cf::VariableCellCalc)</code></pre><p>Composed positions vectors including cell defromations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L445-L449">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="CellBase.set_positions!-Tuple{VariableCellCalc, Any}" href="#CellBase.set_positions!-Tuple{VariableCellCalc, Any}"><code>CellBase.set_positions!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update the positions passing through the filter</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L504-L506">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._calculate_two_pass!-Tuple{Any}" href="#EDDP._calculate_two_pass!-Tuple{Any}"><code>EDDP._calculate_two_pass!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Do a two-pass approach - first pass get the feature vectors and the second  pass will obtain the gradients</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L278-L281">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._get_forces_and_stress-Tuple{VariableCellCalc}" href="#EDDP._get_forces_and_stress-Tuple{VariableCellCalc}"><code>EDDP._get_forces_and_stress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_get_forces_and_stress(cf::VariableCellCalc;rebuild_nl)</code></pre><p>Construct force and stress for the filter object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L459-L463">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._rebuild_on_demand-Tuple{Any}" href="#EDDP._rebuild_on_demand-Tuple{Any}"><code>EDDP._rebuild_on_demand</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Trigger rebuild of the NeighbourList</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L210-L212">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.apply_chainrule!-Tuple{Any, Any}" href="#EDDP.apply_chainrule!-Tuple{Any, Any}"><code>EDDP.apply_chainrule!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Apply Chain rule to compute forces</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L391-L393">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.check_global_minsep-Tuple{NeighbourList, Any}" href="#EDDP.check_global_minsep-Tuple{NeighbourList, Any}"><code>EDDP.check_global_minsep</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs"> check_global_minsep(nl::NeighbourList, threshold)</code></pre><p>Check if there are atoms that are too close to each other.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L518-L522">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.copycell!-Tuple{Cell, Cell}" href="#EDDP.copycell!-Tuple{Cell, Cell}"><code>EDDP.copycell!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Copy the lattice and positions from one cell to the other</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L86-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}" href="#EDDP.get_energy-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}"><code>EDDP.get_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_energy(cell::Cell, cf::CellFeature, itf::AbstractNNInterface;kwargs...)</code></pre><p>Convenient method for calling get_energy with a Calculator constructed ad-hoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy-Tuple{NNCalc}" href="#EDDP.get_energy-Tuple{NNCalc}"><code>EDDP.get_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_energy(calc::NNCalc; forces=false, rebuild_nl=true)</code></pre><p>Return the total energy of the calculator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L151-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy_std-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}" href="#EDDP.get_energy_std-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}"><code>EDDP.get_energy_std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_energy_std(cell::Cell, cf::CellFeature, itf::AbstractNNInterface;kwargs...)</code></pre><p>Convenient method for calling get<em>energy</em>std with a Calculator constructed ad-hoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy_std-Union{Tuple{NNCalc{T, N, M, X}}, Tuple{X}, Tuple{M}, Tuple{N}, Tuple{T}} where {T, N, M, X&lt;:EDDP.EnsembleNNInterface}" href="#EDDP.get_energy_std-Union{Tuple{NNCalc{T, N, M, X}}, Tuple{X}, Tuple{M}, Tuple{N}, Tuple{T}} where {T, N, M, X&lt;:EDDP.EnsembleNNInterface}"><code>EDDP.get_energy_std</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return standard deviation of the predicted total energy Note: must be run after a energy call!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L236-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_enthalpy-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}" href="#EDDP.get_enthalpy-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}"><code>EDDP.get_enthalpy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_enthalpy(cell::Cell, cf::CellFeature, itf::AbstractNNInterface;kwargs...)</code></pre><p>Convenient method for calling get_enthalpy with a Calculator constructed ad-hoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_forces-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}" href="#EDDP.get_forces-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}"><code>EDDP.get_forces</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_forces(cell::Cell, cf::CellFeature, itf::AbstractNNInterface;kwargs...)</code></pre><p>Convenient method for calling get_forces with a Calculator constructed ad-hoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_forces-Tuple{VariableCellCalc}" href="#EDDP.get_forces-Tuple{VariableCellCalc}"><code>EDDP.get_forces</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Forces including the stress contributions that is consistent with the augmented positions</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L481-L483">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_pressure-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}" href="#EDDP.get_pressure-Tuple{Cell, CellFeature, EDDP.AbstractNNInterface}"><code>EDDP.get_pressure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_pressure(cell::Cell, cf::CellFeature, itf::AbstractNNInterface;kwargs...)</code></pre><p>Convenient method for calling get_pressure with a Calculator constructed ad-hoc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_pressure-Tuple{EDDP.AbstractCalc}" href="#EDDP.get_pressure-Tuple{EDDP.AbstractCalc}"><code>EDDP.get_pressure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_pressure(calc::VariableCellCalc)</code></pre><p>Return the total pressure with the external pressure subtracted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L534-L538">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_pressure_gpa-Tuple{EDDP.AbstractCalc}" href="#EDDP.get_pressure_gpa-Tuple{EDDP.AbstractCalc}"><code>EDDP.get_pressure_gpa</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_pressure_gpa(vc::AbstractCalc)</code></pre><p>Return pressure in unit of GPa.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L382-L386">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_stress-Tuple{VariableCellCalc}" href="#EDDP.get_stress-Tuple{VariableCellCalc}"><code>EDDP.get_stress</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_stress(vc::VariableCellCalc;kwargs...)</code></pre><p>Return the effective stress of the VaraibleCellCalc (including the external pressure)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L489-L492">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.is_equal-Tuple{Any, Any}" href="#EDDP.is_equal-Tuple{Any, Any}"><code>EDDP.is_equal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">is_equal(cell_a, cell_b)</code></pre><p>Check if two cells are equal to each other</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.update_feature_vector!-Tuple{NNCalc}" href="#EDDP.update_feature_vector!-Tuple{NNCalc}"><code>EDDP.update_feature_vector!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_feature_vector!(calc::NNCalc; rebuild_nl=true, gradients=true, global_minsep=0.01, maxvol=100, gv_offset=0)</code></pre><p>Returns the updated the feature vectors after atomic displacements</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/calculator.jl#L329-L333">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.opt_tpsd-Tuple{EDDP.AbstractCalc}" href="#EDDP.opt_tpsd-Tuple{EDDP.AbstractCalc}"><code>EDDP.opt_tpsd</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">opt_tpsd(vc::AbstractCalc; f_tol=1e-3, s_tol=1e-3, e_tol=1e-5, 
              itermax=1000, trace=false, α_tol=1e-10, callback=nothing, 
              trajectory=nothing)</code></pre><p>Optimise a structure (calculation) using TPSD. Reference:     - Barzilai, J. and Borwein, J.M., 1988. Two-point step size gradient methods. IMA journal of numerical analysis, 8(1), pp.141-148</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/opt.jl#L8-L18">source</a></section></article><h2 id="Miscellaneous-tools"><a class="docs-heading-anchor" href="#Miscellaneous-tools">Miscellaneous tools</a><a id="Miscellaneous-tools-1"></a><a class="docs-heading-anchor-permalink" href="#Miscellaneous-tools" title="Permalink"></a></h2><p>Support utilities and tools.</p><article class="docstring"><header><a class="docstring-binding" id="CellBase.write_res-Tuple{Any, VariableCellCalc}" href="#CellBase.write_res-Tuple{Any, VariableCellCalc}"><code>CellBase.write_res</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">write_res(path, vc::VariableCellCalc;symprec=1e-2, label=&quot;EDDP&quot;)</code></pre><p>Write structure in VariableCellCalc as SHELX file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/tools.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.is_unique_fvec-Tuple{Any, Any}" href="#EDDP.is_unique_fvec-Tuple{Any, Any}"><code>EDDP.is_unique_fvec</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Check if a feature vector already present in an array of vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/tools.jl#L44-L46">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.stem-Tuple{AbstractString}" href="#EDDP.stem-Tuple{AbstractString}"><code>EDDP.stem</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return the <em>stea</em> part of a file name</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/tools.jl#L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.update_metadata!-Tuple{EDDP.AbstractCalc, Any}" href="#EDDP.update_metadata!-Tuple{EDDP.AbstractCalc, Any}"><code>EDDP.update_metadata!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_metadata!(vc::AbstractCalc, label;symprec=1e-2)</code></pre><p>Update the metadata attached to a <code>Cell</code>` object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/tools.jl#L14-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.AbstractRecord" href="#EDDP.AbstractRecord"><code>EDDP.AbstractRecord</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract record that can be used to construct a phase diagram</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.PhaseDiagram-Tuple{StructureContainer}" href="#EDDP.PhaseDiagram-Tuple{StructureContainer}"><code>EDDP.PhaseDiagram</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PhaseDiagram(sc::StructureContainer)</code></pre><p>Construct a <code>PhaseDiagram</code> object from a <code>StructureContainer</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L377-L381">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.PhaseDiagram-Union{Tuple{Vector{T}}, Tuple{T}, Tuple{Vector{T}, Any}} where T&lt;:EDDP.AbstractRecord" href="#EDDP.PhaseDiagram-Union{Tuple{Vector{T}}, Tuple{T}, Tuple{Vector{T}, Any}} where T&lt;:EDDP.AbstractRecord"><code>EDDP.PhaseDiagram</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PhaseDiagram(records::Vector{T})</code></pre><p>Construct a <code>PhaseDiagram</code> from a vector of <code>AbstractRecord</code>. Args:</p><ul><li><code>elements</code>: A vector of symbols for enforcing a specific ordering of the elements.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L178-L183">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.Simplex" href="#EDDP.Simplex"><code>EDDP.Simplex</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Type that represents a simplex in N-dimensional space</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L43-L45">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.Simplex-Tuple{Any}" href="#EDDP.Simplex-Tuple{Any}"><code>EDDP.Simplex</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Simplex(coords)</code></pre><p>Construct a simplex from a matrix of the coordinates</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L80-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._formation_energies-Tuple{Any, Any}" href="#EDDP._formation_energies-Tuple{Any, Any}"><code>EDDP._formation_energies</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_formation_energies(records, elemental_forms)</code></pre><p>Return the formation energy per atom.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L138-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.bary_coords-Tuple{EDDP.Simplex, Vector}" href="#EDDP.bary_coords-Tuple{EDDP.Simplex, Vector}"><code>EDDP.bary_coords</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bary_coords(s::Simplex, point::Vector)</code></pre><p>Obtain barycentric coordinates for a given point</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L96-L100">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.contains_point" href="#EDDP.contains_point"><code>EDDP.contains_point</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">contains_point(s::Simplex, point::Vector, tol=1e-8)</code></pre><p>Check if a Simplex contains the given point.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.coords_from_bary-Tuple{EDDP.Simplex, Vector}" href="#EDDP.coords_from_bary-Tuple{EDDP.Simplex, Vector}"><code>EDDP.coords_from_bary</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Convert barycentric coordinate to normal point</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L108-L110">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_2d_plot_data-Tuple{PhaseDiagram}" href="#EDDP.get_2d_plot_data-Tuple{PhaseDiagram}"><code>EDDP.get_2d_plot_data</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return data needed for constructing a 2D convex hull diagram</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L391-L393">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_composition_coord-Tuple{Any, Any}" href="#EDDP.get_composition_coord-Tuple{Any, Any}"><code>EDDP.get_composition_coord</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_composition_coord(comp, elements)</code></pre><p>Return the composition coordinates</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L156-L160">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_coord-Tuple{Composition, Vector{Symbol}}" href="#EDDP.get_coord-Tuple{Composition, Vector{Symbol}}"><code>EDDP.get_coord</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_coord(comp, elements)</code></pre><p>Return the composition coordination for a given composition.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_decomposition-Tuple{Any, Any}" href="#EDDP.get_decomposition-Tuple{Any, Any}"><code>EDDP.get_decomposition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_decomposition(phased, record)</code></pre><p>Return the decomposition of a record</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L361-L365">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_ternary_hulldata-Tuple{PhaseDiagram}" href="#EDDP.get_ternary_hulldata-Tuple{PhaseDiagram}"><code>EDDP.get_ternary_hulldata</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_ternary_hulldata(phased::PhaseDiagram)</code></pre><p>Return the ternary coordinates for all stable and non stable phases </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/records.jl#L438-L442">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._get_rel_target_and_pred-Tuple{TrainingResults}" href="#EDDP._get_rel_target_and_pred-Tuple{TrainingResults}"><code>EDDP._get_rel_target_and_pred</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Return relative per-atom energies</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/plotting/recipes.jl#L19-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.enthalpyandvolume" href="#EDDP.enthalpyandvolume"><code>EDDP.enthalpyandvolume</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">enthalpyandvolume(args...;kwargs...)</code></pre><p>Plots the training/predicted enthalpy per atom verses the volume per atom. If the first argument is a <code>TrainingResults</code> then the predicted enthalpies will be used instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/plotting/recipes.jl#L101-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.inoutsample" href="#EDDP.inoutsample"><code>EDDP.inoutsample</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">inoutsample(builder::Builder, i::Int)</code></pre><p>Return plots for out-of-sample prediction analysis. This function loads the model trained up to <span>$i$</span> iteration and apply it to the <span>$i + 1$</span> iteration. The prediction results is hence effectively &quot;out-of-sample&quot;.</p><p>Ideally, we want the out-of-sample to behave like the in-sample results. Unless otherwise stateed, latter refers to the training data and the model at the <span>$i$</span> iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/plotting/recipes.jl#L139-L148">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.relativeabsoluteerror" href="#EDDP.relativeabsoluteerror"><code>EDDP.relativeabsoluteerror</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">relativeabsoluteerror(t::TrainingResults, args...;kwargs...)</code></pre><p>Plot the absolute error per atom against the relative energy (per atom). This can be useful to check that the those with lower energy has smaller errors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/plotting/recipes.jl#L68-L73">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.write_eddpf90_features-Tuple{FeatureContainer, Any}" href="#EDDP.write_eddpf90_features-Tuple{FeatureContainer, Any}"><code>EDDP.write_eddpf90_features</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Write the feature vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/eddpf90.jl#L7-L9">source</a></section></article><h2 id="Automated-potentials-building"><a class="docs-heading-anchor" href="#Automated-potentials-building">Automated potentials building</a><a id="Automated-potentials-building-1"></a><a class="docs-heading-anchor-permalink" href="#Automated-potentials-building" title="Permalink"></a></h2><p>Function for providing automatic iterative potential building via random structure structure searching.</p><article class="docstring"><header><a class="docstring-binding" id="EDDP.Builder" href="#EDDP.Builder"><code>EDDP.Builder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Builder(str::AbstractString=&quot;link.toml&quot;)</code></pre><p>Load the builder from a YAML file. The file contains nested key-values pairs similar to the constructors of the types.</p><pre><code class="language-yaml hljs">state:
    seedfile : &quot;test.cell&quot;

trainer:
    type : &quot;locallm&quot;
    nmodels : 128
cf:
    elements : [&quot;H&quot;, &quot;O&quot;]
    # Power of the polynomials as geometry sequence 
    p2       : [2, 10, 5] 
    geometry_sequence : true

cf_embedding:
    n : 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L75-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.Builder" href="#EDDP.Builder"><code>EDDP.Builder</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The Builder stores states and options for training and using the potentials.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L19-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._call_pp3-Tuple{Any}" href="#EDDP._call_pp3-Tuple{Any}"><code>EDDP._call_pp3</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_call_pp3(aname)</code></pre><p>Call pp3 to calculate the energy/pressure of a seed file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L730-L734">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._disp_get_completed_jobs-Tuple{Any}" href="#EDDP._disp_get_completed_jobs-Tuple{Any}"><code>EDDP._disp_get_completed_jobs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_disp_get_completed_jobs(project_name)</code></pre><p>Get the number of completed jobs as well as the total number of jobs under a certain project. NOTE: this requires <code>disp</code> to be available in the commandline.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L572-L577">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._generate_random_structures-Tuple{Builder, Any}" href="#EDDP._generate_random_structures-Tuple{Builder, Any}"><code>EDDP._generate_random_structures</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_generate_random_structures(bu::Builder, iter)</code></pre><p>Generate random structure (if needed) as training data for the <code>Builder</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L272-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._input_structure_dir-Tuple{Builder}" href="#EDDP._input_structure_dir-Tuple{Builder}"><code>EDDP._input_structure_dir</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Directory for input structures</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L426">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._make_symbol_keys-Tuple{Dict}" href="#EDDP._make_symbol_keys-Tuple{Dict}"><code>EDDP._make_symbol_keys</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_make_symbol_keys(dict::Dict)</code></pre><p>Swap the String keys of a dictonary into Symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L1050-L1054">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._output_structure_dir-Tuple{Builder}" href="#EDDP._output_structure_dir-Tuple{Builder}"><code>EDDP._output_structure_dir</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Directory for output structures after external calculations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L428">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._perform_training_external-Tuple{Builder}" href="#EDDP._perform_training_external-Tuple{Builder}"><code>EDDP._perform_training_external</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Carry out training and save the ensemble as a JLD2 archive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L506-L508">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._run_external-Tuple{Builder}" href="#EDDP._run_external-Tuple{Builder}"><code>EDDP._run_external</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run external code for generating training data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L434-L436">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._run_rss_link-Tuple{}" href="#EDDP._run_rss_link-Tuple{}"><code>EDDP._run_rss_link</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_run_rss_link()</code></pre><p>Run the random search step as part of the <code>link!</code> iterative building protocol. This function is intented to be called as a separated Julia process.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This function is meanted to be called with commandline arguments.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L977-L987">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP._set_iteration!-Tuple{Builder}" href="#EDDP._set_iteration!-Tuple{Builder}"><code>EDDP._set_iteration!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_set_iteration!(builder::Builder)</code></pre><p>Fastword to the iteration by checking existing ensemble files</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L159-L163">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy-Tuple{Cell, Builder, Int64}" href="#EDDP.get_energy-Tuple{Cell, Builder, Int64}"><code>EDDP.get_energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_energy(cell::Cell, builder::Builder, gen::Int=_latest_ensemble_iteration(builder);kwargs...)</code></pre><p>Convenient method for calling get_energy using a Builder object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L969-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_energy_std-Tuple{Cell, Builder, Int64}" href="#EDDP.get_energy_std-Tuple{Cell, Builder, Int64}"><code>EDDP.get_energy_std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_energy_std(cell::Cell, builder::Builder, gen::Int=_latest_ensemble_iteration(builder);kwargs...)</code></pre><p>Convenient method for calling get<em>energy</em>std using a Builder object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L969-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_enthalpy-Tuple{Cell, Builder, Int64}" href="#EDDP.get_enthalpy-Tuple{Cell, Builder, Int64}"><code>EDDP.get_enthalpy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_enthalpy(cell::Cell, builder::Builder, gen::Int=_latest_ensemble_iteration(builder);kwargs...)</code></pre><p>Convenient method for calling get_enthalpy using a Builder object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L969-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_forces-Tuple{Cell, Builder, Int64}" href="#EDDP.get_forces-Tuple{Cell, Builder, Int64}"><code>EDDP.get_forces</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_forces(cell::Cell, builder::Builder, gen::Int=_latest_ensemble_iteration(builder);kwargs...)</code></pre><p>Convenient method for calling get_forces using a Builder object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L969-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.get_pressure-Tuple{Cell, Builder, Int64}" href="#EDDP.get_pressure-Tuple{Cell, Builder, Int64}"><code>EDDP.get_pressure</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_pressure(cell::Cell, builder::Builder, gen::Int=_latest_ensemble_iteration(builder);kwargs...)</code></pre><p>Convenient method for calling get_pressure using a Builder object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L969-L973">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.link!-Tuple{Builder}" href="#EDDP.link!-Tuple{Builder}"><code>EDDP.link!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">link!(builder::Builder)</code></pre><p>Run automated iterative building cycles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L174-L178">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.link-Tuple{}" href="#EDDP.link-Tuple{}"><code>EDDP.link</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">link()</code></pre><p>Run <code>link!</code> from command line interface.</p><p>Example: </p><pre><code class="language-bash hljs">julia -e &quot;Using EDDP;EDDP.link()&quot; -- --file &quot;link.toml&quot; </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L190-L199">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_features-Tuple{Builder, Vararg{Int64}}" href="#EDDP.load_features-Tuple{Builder, Vararg{Int64}}"><code>EDDP.load_features</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load_features(bu::Builder, iteration...)</code></pre><p>Loading features for specific iterations.   </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L894-L898">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.parse_disp_output-Tuple{Any}" href="#EDDP.parse_disp_output-Tuple{Any}"><code>EDDP.parse_disp_output</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_disp_output(json_string)</code></pre><p>Parse the output of <code>disp db summary</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L751-L755">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_disp_castep-Tuple{Any, Any, Any}" href="#EDDP.run_disp_castep-Tuple{Any, Any, Any}"><code>EDDP.run_disp_castep</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run relaxation through DISP</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L588-L590">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_pp3" href="#EDDP.run_pp3"><code>EDDP.run_pp3</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_pp3(file, seedfile, outpath)</code></pre><p>Use <code>pp3</code> for single point calculations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L688-L692">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_pp3_many-NTuple{4, Any}" href="#EDDP.run_pp3_many-NTuple{4, Any}"><code>EDDP.run_pp3_many</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_pp3_many(workdir, indir, outdir, seedfile; n_parallel=1, keep=false)</code></pre><p>Use PP3 for singlepoint calculation - launch many calculations in parallel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L658-L662">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_rss" href="#EDDP.run_rss"><code>EDDP.run_rss</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_rss(str::AbstractString)</code></pre><p>Run random structure searching for a configuration file for the builder.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L944-L948">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_rss-Tuple{Builder}" href="#EDDP.run_rss-Tuple{Builder}"><code>EDDP.run_rss</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_rss(builder::Builder)</code></pre><p>Run random structures search using trained ensembel model. The output files are in the  <code>search</code> subfolder by default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L908-L913">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.save_builder-Tuple{AbstractString, Builder}" href="#EDDP.save_builder-Tuple{AbstractString, Builder}"><code>EDDP.save_builder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">save_builder(fname::AbstractString, builder)</code></pre><p>Save a <code>Builder</code> to a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.step!-Tuple{Builder}" href="#EDDP.step!-Tuple{Builder}"><code>EDDP.step!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Run a step step for the Builder</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L232-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.summarise-Tuple{Builder}" href="#EDDP.summarise-Tuple{Builder}"><code>EDDP.summarise</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Summarise the status of the project</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/link.jl#L776-L778">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.create_ensemble" href="#EDDP.create_ensemble"><code>EDDP.create_ensemble</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">create_ensemble(bu::Builder, tra::TrainingOption=bu.trainer;save_and_clean=false, kwargs...)</code></pre><p>Create ensemble from resulted models. Optionally save the created ensemble model and clear the transient data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L190-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.dataset_name" href="#EDDP.dataset_name"><code>EDDP.dataset_name</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dataset_name(bu::Builder, i=bu.state.iteration)</code></pre><p>Full path to the dataset file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.load_training_dataset" href="#EDDP.load_training_dataset"><code>EDDP.load_training_dataset</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_training_dataset(bu::Builder, iter=bu.state.iteration;combined=false)</code></pre><p>Load dataset saved for training</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L60-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.num_existing_models" href="#EDDP.num_existing_models"><code>EDDP.num_existing_models</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">num_existing_models(bu::Builder, tra::TrainingOption=bu.trainer)</code></pre><p>Return the number of existing models in the training directory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_trainer" href="#EDDP.run_trainer"><code>EDDP.run_trainer</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">run_trainer(trainer::TrainingOption, builder::Builder)</code></pre><p>Train the model and write the result to the disk as a JLD2 archive.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.run_trainer-Tuple{}" href="#EDDP.run_trainer-Tuple{}"><code>EDDP.run_trainer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">run_trainer()</code></pre><p>Run training through a command line interface.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L241-L245">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.write_dataset" href="#EDDP.write_dataset"><code>EDDP.write_dataset</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_dataset(builder)</code></pre><p>Write the dataset to the disk. These are large JLD2 archive containing the data for training, testing and validation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/link/trainer.jl#L35-L39">source</a></section></article><h2 id="None-negative-least-square-routines"><a class="docs-heading-anchor" href="#None-negative-least-square-routines">None-negative least square routines</a><a id="None-negative-least-square-routines-1"></a><a class="docs-heading-anchor-permalink" href="#None-negative-least-square-routines" title="Permalink"></a></h2><p>Internal routines in the <a href="https://github.com/rdeits/NNLS.jl">NNLS.jl</a> package embedded in the package.</p><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS" href="#EDDP.NNLS"><code>EDDP.NNLS</code></a> — <span class="docstring-category">Module</span></header><section><div><p>NNLS copied from NNLS.jl</p><p>Remove the code for the solver interface for reduced dependencies. Original code base: https://github.com/rdeits/NNLS.jl</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L2-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.QP" href="#EDDP.NNLS.QP"><code>EDDP.NNLS.QP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">QP{T}</code></pre><p>Structure describing the QP: Minimize <span>$\frac{1}{2} z&#39; Q z + c&#39; z$</span> Subject to <span>$G z \leq g$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L597-L603">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.QPWorkspace-Union{Tuple{EDDP.NNLS.QP{T}}, Tuple{T}} where T" href="#EDDP.NNLS.QPWorkspace-Union{Tuple{EDDP.NNLS.QP{T}}, Tuple{T}} where T"><code>EDDP.NNLS.QPWorkspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">QPWorkspace(qp::QP)</code></pre><p>Construct a workspace and load problem data for the QP Minimize <span>$\frac{1}{2} z&#39; Q z + c&#39; z$</span> Subject to <span>$G z \leq g$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L661-L666">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.UnsafeVectorView" href="#EDDP.NNLS.UnsafeVectorView"><code>EDDP.NNLS.UnsafeVectorView</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">UnsafeVectorView</code></pre><p>Views in Julia still allocate some memory (since they need to keep a reference to the original array). This type allocates no memory and does no bounds checking. Use it with caution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L216-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.apply_householder!-Union{Tuple{T}, Tuple{AbstractVector{T}, T, AbstractVector{T}}} where T" href="#EDDP.NNLS.apply_householder!-Union{Tuple{T}, Tuple{AbstractVector{T}, T, AbstractVector{T}}} where T"><code>EDDP.NNLS.apply_householder!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">apply_householder!(u::AbstractVector{T}, up::T, c::AbstractVector{T}) where {T}</code></pre><p>CONSTRUCTION AND/OR APPLICATION OF A SINGLE HOUSEHOLDER TRANSFORMATION..     Q = I + U*(U**T)/B The original version of this code was developed by Charles L. Lawson and Richard J. Hanson at Jet Propulsion Laboratory 1973 JUN 12, and published in the book &quot;SOLVING LEAST SQUARES PROBLEMS&quot;, Prentice-HalL, 1974. Revised FEB 1995 to accompany reprinting of the book by SIAM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L59-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.check_optimality_conditions-Tuple{EDDP.NNLS.QP, Any, Any}" href="#EDDP.NNLS.check_optimality_conditions-Tuple{EDDP.NNLS.QP, Any, Any}"><code>EDDP.NNLS.check_optimality_conditions</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_optimality_conditions(qp::QP, z, λ)</code></pre><p>Provies a scalar indicator of the violation of the KKT optimality conditions for a given QP, primal solution <span>$z$</span>, and dual solution <span>$λ$</span>. A feasible &amp; optimal solution should return a value close to 0, while an infeasible or suboptimal solution should return a value greater than zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L901-L907">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.construct_householder!-Union{Tuple{T}, Tuple{AbstractVector{T}, T}} where T" href="#EDDP.NNLS.construct_householder!-Union{Tuple{T}, Tuple{AbstractVector{T}, T}} where T"><code>EDDP.NNLS.construct_householder!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">construct_householder!(u::AbstractVector{T}, up::T)::T where {T}</code></pre><p>CONSTRUCTION AND/OR APPLICATION OF A SINGLE HOUSEHOLDER TRANSFORMATION..     Q = I + U*(U**T)/B The original version of this code was developed by Charles L. Lawson and Richard J. Hanson at Jet Propulsion Laboratory 1973 JUN 12, and published in the book &quot;SOLVING LEAST SQUARES PROBLEMS&quot;, Prentice-HalL, 1974. Revised FEB 1995 to accompany reprinting of the book by SIAM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L25-L35">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.dual_infeasibility-Tuple{EDDP.NNLS.QP, Any, Any}" href="#EDDP.NNLS.dual_infeasibility-Tuple{EDDP.NNLS.QP, Any, Any}"><code>EDDP.NNLS.dual_infeasibility</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">dual_infeasibility(qp::QP, λ)</code></pre><p>Measure of primal infeasibility of the solution to the QP Minimize <span>$\frac{1}{2} z&#39; Q z + c&#39; z$</span> Subject to <span>$G z \leq g` where$</span>z<span>$is the primal solution and$</span>λ`` is the dual solution. For a dual-feasible solution, this will return a value &lt;= 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L872-L879">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.fastview-Tuple{AbstractArray, Integer, Integer}" href="#EDDP.NNLS.fastview-Tuple{AbstractArray, Integer, Integer}"><code>EDDP.NNLS.fastview</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fastview(parent::AbstractArray, start_ind::Integer, len::Integer) =</code></pre><p>Fallback for non-contiguous arrays, for which UnsafeVectorView does not make sense.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L254-L259">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.fastview-Union{Tuple{T}, Tuple{Array{T}, Integer, Integer}} where T" href="#EDDP.NNLS.fastview-Union{Tuple{T}, Tuple{Array{T}, Integer, Integer}} where T"><code>EDDP.NNLS.fastview</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fastview(parent::Array{T}, start_ind::Integer, len::Integer) where {T}</code></pre><p>UnsafeVectorView only works for isbitstype types. For other types, we&#39;re already allocating lots of memory elsewhere, so creating a new View is fine. This function looks type-unstable, but the isbitstype(T) test can be evaluated by the compiler, so the result is actually type-stable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L238-L245">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.load!-Union{Tuple{T}, Tuple{EDDP.NNLS.QPWorkspace{T}, AbstractMatrix{T}, AbstractVector{T}, AbstractMatrix{T}, AbstractVector{T}}} where T" href="#EDDP.NNLS.load!-Union{Tuple{T}, Tuple{EDDP.NNLS.QPWorkspace{T}, AbstractMatrix{T}, AbstractVector{T}, AbstractMatrix{T}, AbstractVector{T}}} where T"><code>EDDP.NNLS.load!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">load!(work::QPWorkspace, Q, c, G, g)</code></pre><p>Load problem data for the QP Minimize <span>$\frac{1}{2} z&#39; Q z + c&#39; z$</span> Subject to <span>$G z \leq g$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L691-L697">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.orthogonal_rotmat-Union{Tuple{T}, Tuple{T, T}} where T" href="#EDDP.NNLS.orthogonal_rotmat-Union{Tuple{T}, Tuple{T, T}} where T"><code>EDDP.NNLS.orthogonal_rotmat</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">orthogonal_rotmat(a::T, b::T)::Tuple{T,T,T} where {T}</code></pre><p>COMPUTE ORTHOGONAL ROTATION MATRIX.. The original version of this code was developed by Charles L. Lawson and Richard J. Hanson at Jet Propulsion Laboratory 1973 JUN 12, and published in the book &quot;SOLVING LEAST SQUARES PROBLEMS&quot;, Prentice-HalL, 1974. Revised FEB 1995 to accompany reprinting of the book by SIAM.    COMPUTE.. MATRIX   (C, S) SO THAT (C, S)(A) = (SQRT(A<strong>2+B</strong>2))                       (-S,C)         (-S,C)(B)   (   0          )    COMPUTE SIG = SQRT(A<strong>2+B</strong>2)       SIG IS COMPUTED LAST TO ALLOW FOR THE POSSIBILITY THAT       SIG MAY BE IN THE SAME LOCATION AS A OR B .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L95-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.primal_infeasibility-Tuple{EDDP.NNLS.QP, Any, Any}" href="#EDDP.NNLS.primal_infeasibility-Tuple{EDDP.NNLS.QP, Any, Any}"><code>EDDP.NNLS.primal_infeasibility</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">primal_infeasibility(qp::QP, z)</code></pre><p>Measure of primal infeasibility of the solution to the QP Minimize <span>$\frac{1}{2} z&#39; Q z + c&#39; z$</span> Subject to <span>$G z \leq g` where$</span>z<span>$is the primal solution and$</span>λ`` is the dual solution. For a primal-feasible solution, this will return a value &lt;= 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L862-L869">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.slackness_violation-Tuple{EDDP.NNLS.QP, Any, Any}" href="#EDDP.NNLS.slackness_violation-Tuple{EDDP.NNLS.QP, Any, Any}"><code>EDDP.NNLS.slackness_violation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">slackness_violation(qp::QP, z, λ)</code></pre><p>Measure of the violation of the complementary slackness condition for the QP. For an optimal solution, this should return a value near 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L894-L898">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.solve!-Union{Tuple{EDDP.NNLS.NNLSWorkspace{T, TI}}, Tuple{TI}, Tuple{T}, Tuple{EDDP.NNLS.NNLSWorkspace{T, TI}, Integer}} where {T, TI}" href="#EDDP.NNLS.solve!-Union{Tuple{EDDP.NNLS.NNLSWorkspace{T, TI}}, Tuple{TI}, Tuple{T}, Tuple{EDDP.NNLS.NNLSWorkspace{T, TI}, Integer}} where {T, TI}"><code>EDDP.NNLS.solve!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve!(work::NNLSWorkspace{T,TI}, max_iter::Integer=(3 * size(work.QA, 2)))</code></pre><p>Algorithm NNLS: NONNEGATIVE LEAST SQUARES The original version of this code was developed by Charles L. Lawson and Richard J. Hanson at Jet Propulsion Laboratory 1973 JUN 15, and published in the book &quot;SOLVING LEAST SQUARES PROBLEMS&quot;, Prentice-HalL, 1974. Revised FEB 1995 to accompany reprinting of the book by SIAM. GIVEN AN M BY N MATRIX, A, AND AN M-VECTOR, B,  COMPUTE AN N-VECTOR, X, THAT SOLVES THE LEAST SQUARES PROBLEM                  A * X = B  SUBJECT TO X .GE. 0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L290-L302">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.solve!-Union{Tuple{EDDP.NNLS.QPWorkspace{T}}, Tuple{T}, Tuple{EDDP.NNLS.QPWorkspace{T}, Any}} where T&lt;:Union{Float32, Float64, ComplexF32, ComplexF64}" href="#EDDP.NNLS.solve!-Union{Tuple{EDDP.NNLS.QPWorkspace{T}}, Tuple{T}, Tuple{EDDP.NNLS.QPWorkspace{T}, Any}} where T&lt;:Union{Float32, Float64, ComplexF32, ComplexF64}"><code>EDDP.NNLS.solve!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">z, λ = solve!(work::QPWorkspace)</code></pre><p>Solve the QP that was loaded into <code>work</code> using <code>load!</code>. Returns the primal solution <span>$z$</span> and the dual solution <span>$λ$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L717-L722">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.solve_triangular_system!-NTuple{5, Any}" href="#EDDP.NNLS.solve_triangular_system!-NTuple{5, Any}"><code>EDDP.NNLS.solve_triangular_system!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">solve_triangular_system!(zz, A, idx, nsetp, jj)</code></pre><p>The original version of this code was developed by Charles L. Lawson and Richard J. Hanson at Jet Propulsion Laboratory 1973 JUN 15, and published in the book &quot;SOLVING LEAST SQUARES PROBLEMS&quot;, Prentice-HalL, 1974. Revised FEB 1995 to accompany reprinting of the book by SIAM.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L131-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EDDP.NNLS.stationarity_violation-Tuple{EDDP.NNLS.QP, Any, Any}" href="#EDDP.NNLS.stationarity_violation-Tuple{EDDP.NNLS.QP, Any, Any}"><code>EDDP.NNLS.stationarity_violation</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">stationarity_violation(qp::QP, z, λ)</code></pre><p>Measure of the violation of the stationarity KKT condition for the QP. For an optimal solution, this should return a value near 0.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/zhubonan/EDDP.jl/blob/794951e56a2dd06b20d31a6c7dcad06ce84bcc17/src/nnls/nnls.jl#L882-L886">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting_started/">« Getting Started</a><a class="docs-footer-nextpage" href="../faq/">FAQ »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Saturday 6 May 2023 03:48">Saturday 6 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
